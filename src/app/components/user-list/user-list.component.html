<main class="container py-4">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    @for(user of paginatedUsers; track user._id){
      <article class="col">
        <div class="card h-100 shadow-lg rounded-4 border-0">
          <div class="d-flex justify-content-center mt-4">
            <img [src]="user.image" class="rounded-circle border border-3 border-primary user-avatar" alt="Avatar" />
          </div>
          <div class="card-body text-center">
            <h5 class="card-title fw-bold mb-1">{{ user.first_name }} {{ user.last_name }}</h5>            
          </div>
          <div class="card-footer d-flex justify-content-center bg-white border-0 px-2 pb-3 card-footer-actions">
            <a [routerLink]="['/user', user._id]" class="btn btn-light btn-sm px-2 shadow-sm d-flex flex-column align-items-center">
              <i class="bi bi-search icon-lg"></i>
              <span class="text-sm">Ver detalle</span>
            </a>
            <a [routerLink]="['/updateuser', user._id]" class="btn btn-light btn-sm px-2 shadow-sm d-flex flex-column align-items-center">
              <i class="bi bi-arrow-repeat icon-lg"></i>
              <span class="text-sm">Actualizar</span>
            </a>
            <button (click)="eventDeleteUser(user._id)" class="btn btn-light btn-sm px-2 shadow-sm d-flex flex-column align-items-center">
              <i class="bi bi-trash icon-lg"></i>
              <span class="text-sm">Borrar</span>
            </button>
          </div>
        </div>
      </article>
    }
  </div>

  <!-- Dynamic Pagination -->
  <nav class="d-flex justify-content-center align-items-center mt-5">
    <div style="display: flex; align-items: center; gap: 2rem;">
      @for(page of pageArray; track page){
        <button class="page-link rounded-circle border border-2 mx-2" [class.active]="currentPage === page" (click)="setPage(page)" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; background: #fff;">{{ page }}</button>
        @if(page < totalPages){
          <div style="height: 2px; width: 60px; background: #bbb;"></div>
        }
      }
    </div>
  </nav>
</main>
